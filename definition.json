{
	"structures": [
		{ "name": "gate", "maxValue": 25 },
		{ "name": "autowalk", "start": 1, "end": 10, "speed": 1},
		{ "name": "travellers", "attributes": { "location": 0, "speed": 2 }, "structureName": "traveller", "limit": 5 },
	],
	"roles": [
		{
			"name": "limiter", "attributes": [
				{ "name": "maxValue"}
			]
		},
		{ 
			"name": "mover", "attributes": [
				{ "name": "speed" },
				{ "name": "start" },
				{ "name": "end" }
			]
		},
		{ 
			"name": "movable", "attributes": [
				{ "name": "speed"},
				{ "name": "location", "writable": true}
			]
		},
		{
			"name": "generator", "attributes": [
				{ "name": "structureName"},
				{ "name": "attributes"},
				{ "name": "limit"}
			]
		}
	],
	"behaviours": [
		{
			"name": "move",
			"roles": ["mover", "movable"],
			"action": "movable.location += mover.speed"
		},
		{
			"name": "self-move",
			"roles": ["movable"],
			"action": "movable.location += movable.speed"
		},
		{
			"name": "generate",
			"roles": ["generator"],
			"action": "create(generator.structureName, generator.attributes)"
		}
	],
	"constraints": [
		{
			"name": "on",
			"roles": ["mover", "movable"],
			"condition": "mover.start <= movable.location && movable.location < mover.end"
		},
		{
			"name": "move until",
			"roles": ["movable", "limiter"],
			"condition": "movable.location < limiter.maxValue"
		},
		{
			"name": "generate until",
			"roles": ["generator"],
			"condition": "count(generator.structureName) < generator.limit"
		}
	],
	"interactions": [
		{
			"name": "moving",
			"constraints": ["on", "move until"],
			"behaviours": ["move"]
		},
		{
			"name": "self-movement",
			"constraints": ["move until"],
			"behaviours": ["self-move"]
		},
		{
			"name": "generating",
			"constraints": ["generate until"],
			"behaviours": ["generate"]
		}
	]
}
